(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");if(r.length)for(var c=r.length-1;c>-1&&(!t||!/^http(s?):/.test(t));)t=r[c--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"img/redCardBack.jpg";function n(e){const t=Math.floor(Math.random()*e.length),n=e[t];return e.splice(t,1),n}const r=function(){const e=[],t=["2","3","4","5","6","7","8","9","10","Jack","Queen","King","Ace"],n=["Hearts","Clubs","Diamonds","Spades"];for(const r of t)for(const t of n)e.push({card:r,suit:t});return e}(),c=[],a=[];function s(e){let t=0;for(const n of e)n.card.length>2&&"Ace"!=n.card?t+=10:"Ace"===n.card?t+=1:t+=parseInt(n.card);return console.log(e),t}console.log("deck length before draw:",r.length),c.push(n(r)),c.push(n(r)),a.push(n(r)),a.push(n(r)),console.log("deck length after draw",r.length),console.log("player hand:",s(c)),console.log("dealer hand:",s(a));let o=!1,d=!1;function l(){const e=document.getElementById("player-hand"),t=document.getElementById("dealer-hand");e.innerHTML="",t.innerHTML="",c.forEach((t=>{const n=p(t);e.appendChild(n)})),a.forEach(((e,n)=>{const r=p(e,1===n&&!d);t.appendChild(r)}))}function i(e){return new Promise((t=>setTimeout(t,e)))}function u(e){const t=s(e),n=e.some((e=>"Ace"===e.card));return 17===t&&n}function p(e,n=!1){const r={Hearts:"&hearts;",Diamonds:"&diams;",Clubs:"&clubs;",Spades:"&spades;"},c={Hearts:"red",Diamonds:"red",Clubs:"black",Spades:"black"},a={King:"&#x2654;",Queen:"&#x2655;",Jack:"J",Ace:"&#x2664;"},s=document.createElement("div");if(s.classList.add("card"),n){const e=document.createElement("img");e.src=t,e.alt="Card Back",e.classList.add("card-back"),s.appendChild(e)}else{const t=document.createElement("div");t.classList.add("corner","top-left"),t.innerHTML=`${e.card} <br> ${r[e.suit]}`,t.style.color=c[e.suit];const n=document.createElement("div");n.classList.add("corner","bottom-right"),n.innerHTML=`${e.card} <br> ${r[e.suit]}`,n.style.color=c[e.suit];const o=document.createElement("div");if(o.classList.add("center"),a[e.card])o.innerHTML=a[e.card],o.classList.add("icon-center");else if(!isNaN(e.card)&&e.card>=2&&e.card<=10){e.card<=4?o.style.gridTemplateColumns="repeat(1, 3fr)":e.card<=8?o.style.gridTemplateColumns="repeat(2, 1fr)":o.style.gridTemplateColumns="repeat(3, 2fr)",o.style.display="grid",o.style.justifyItems="center",o.style.alignItems="center";for(let t=0;t<e.card;t++){const t=document.createElement("span");t.innerHTML=r[e.suit],t.style.color=c[e.suit],o.appendChild(t)}}else o.innerHTML=`${e.card}`;o.style.color=c[e.suit],s.appendChild(t),s.appendChild(n),s.appendChild(o)}return s}function m(e,t){e.forEach((e=>{const n=p(e);t.appendChild(n)}))}function h(){o=!0,document.getElementById("hit-button").disabled=!0,document.getElementById("stand-button").disabled=!0}document.getElementById("hit-button").addEventListener("click",(()=>{if(!o)return c.push(n(r)),l(),s(c)>21?(setTimeout((()=>{alert("Busted! Player loses.")}),500),void h()):void 0})),document.getElementById("stand-button").addEventListener("click",(async()=>{if(o)return;let e=s(a);for(d=!0;e<17||17===e&&u(a);)a.push(n(r)),l(),await i(200),e=s(a);setTimeout((()=>{const t=s(c);let n=`Final scores - Player: ${t}, Dealer: ${e}\n`;n+=t>e||e>21?"Player wins!":t<e?"Dealer wins!":"It's a tie!",alert(n),h()}),500)})),document.getElementById("new-game-button").addEventListener("click",(()=>{window.location.reload()})),m(a,document.getElementById("dealer-hand")),m(c,document.getElementById("player-hand")),l()})();